# 차량 관리 (Vehicle Management)

## 1. 개요
- **화면명**: 차량 관리 (VehiclesPage)
- **목적**: 전체 차량의 세차 현황 모니터링, 장기 미세차 차량 식별 및 존별 차량 분포 확인.
- **주요 기능**: 차량 목록 조회, 다차원 필터링, 차량 상세 정보 및 세차 이력 조회.

## 2. 기능 명세

### 2.1 검색 및 필터 (Search & Filter)
상단 `Card` 영역에 위치하며, 리스트 데이터를 실시간으로 필터링합니다.

| 구분 | 필드명 | 타입 | 설명 및 로직 |
| :--- | :--- | :--- | :--- |
| **검색** | 통합 검색 | Input | **대상 필드 (OR 조건)**:<br>- 차량번호 (`plate`)<br>- 존 이름 (`zoneName`)<br>- 존 ID (`zoneId`)<br>*대소문자 구분 없음 (`toLowerCase()`)* |
| **필터** | 지역1 | Select | `region1` 필드 기준 필터링. 변경 시 지역2 필터 초기화. |
| **필터** | 지역2 | Select | `region2` 필드 기준 필터링. 선택된 지역1에 속한 지역2 목록만 노출. |
| **필터** | 협력사 | Select | `partner` 필드 기준 필터링. |
| **초기화** | 필터 초기화 | Button | 모든 검색어 및 필터 조건을 초기화합니다. |

### 2.2 차량 목록 (Data List)
필터링된 결과를 테이블 형태로 표시합니다.

- **데이터 소스**: `data` (Memoized Array)
- **행 식별자 (Row Key)**: `${zoneId}-${plate}` 조합
- **정렬**: (코드상 명시적 정렬 로직 없음, 원본 데이터 순서 유지)

#### 컬럼 정의
| 헤더명 | 매핑 데이터 | 비고 |
| :--- | :--- | :--- |
| **차량번호** | `plate` | |
| **존이름** | `zoneName` | |
| **존 ID** | `zoneId` | |
| **지역1** | `region1` | |
| **지역2** | `region2` | |
| **협력사** | `partner` | |
| **진행중 오더** | `activeOrderId` | 값이 있을 경우 버튼 형태로 노출 (클릭 시 오더 상세 이동 가능성 암시), 없을 경우 `-` 표시 |
| **마지막 세차일** | `lastWash` | `YYYY-MM-DD` 형식 |
| **세차 경과일** | `elapsedDays` | `lastWash` 기준 현재 날짜와의 차이 계산 (`getElapsedDays` 함수) |

### 2.3 차량 상세 (Detail Drawer)
목록의 행(Row)을 클릭하면 우측에서 슬라이딩되는 Drawer입니다.

- **진입 트리거**: 테이블 행 클릭 (`onRowClick`)
- **타이틀**: `차량 상세 - {plate}`

#### 섹션 구성
1. **기본 정보**
   - **차량번호**: `plate`
   - **차종**: `model`
   - **연료유형**: `fuel`
   - **존**: `{zoneName} ({zoneId})`
   - **지역**: `{region1} / {region2}`
   - **협력사**: `partner`
   - **진행중 오더**: `activeOrderId` (없을 시 "없음")
   - **마지막 세차일**: `lastWash`
   - **세차 경과일**: `{elapsedDays}일`

2. **세차 이력 (더미)**
   - 현재 프로토타입 단계에서는 하드코딩된 더미 데이터 리스트를 표시함.
   - 예: `2026-01-10, 라이트 세차, 완료` 등

## 3. 데이터 로직 참고
- **경과일 계산**: `getElapsedDays(dateStr)` 유틸리티 함수를 사용하여 `(Today - lastWash) / (1000 * 60 * 60 * 24)` 로직으로 일수 계산.
- **필터링**: `useMemo` 훅을 사용하여 검색어(`q`)와 필터 상태(`fRegion1`, `fRegion2`, `fPartner`)가 변경될 때마다 결과 리스트 재계산.