# 오더유형 정책 관리

1. 파일 생성 및 메뉴 연결:
- `src/docs/specs/order-type-policy.md` 파일을 생성하고 사용자가 제공한 정책 테이블 내용을 정리해줘.
- `src/pages/OrderTypePolicyPage.jsx` 파일을 새로 생성해줘.
- `src/App.jsx`의 `NAV` 상수 중 '오더 정책 관리' 그룹 하위에 '오더유형 정책(order-type-policy)' 메뉴를 추가하고, `renderPage`에 컴포넌트를 연결해줘.

2. 데이터 모델링 (Mock Data):
- 각 데이터 객체는 다음 필드를 반드시 포함해야 함:
  * 정책 식별자(ID), 
  * 셰어링 유형, 
  * 오더구분, 
  * 오더 유형, 
  * 세차유형, 
  * 존유형,
  * 오더 발행 여부(o/x),
  * 중요도 정보: 
    * 순위, 
    * 중요도 총점,
    * 가산점(bonusPoints)' : 초기값은 0 또는 null 
  * 파트너 유형, 블락 정책(유형, 시간 등)
  * 미션등록 여부, wait_time, wait_time 취소 여부, User Story
  * 버전 정보: version (숫자)
  * 수정 이력: history (배열 - { date, user, changes } 포함)

3. UI 구현 (OrderTypePolicyPage):
- 리스트(DataTable): 
    * 정보핵심 컬럼(오더구분, 오더유형, 세차유형, 존유형, 발행여부, 파트너유형, 버전)을 먼저 보여주고 나머지는 상세 조회에서 처리.
    * 정렬: 정책 식별자(ID) 오름차순
- 상세 조회 및 수정 (Drawer):
  * 행 클릭 시 Drawer 오픈.
  * '상세 정보' 탭과 '변경 이력' 탭으로 구성.
  * '수정' 버튼 클릭 시 모든 필드를 편집 가능한 폼(Input, Select)으로 전환.
  * 저장 시 로직: 
    - version을 +1 시킴.
    - 현재 시간과 'Ops Admin' 아이디를 수정자로 기록.
    - history 배열에 변경된 내역(어떤 필드가 바뀌었는지)을 push함.

4. 기술 가이드:
- 기존 `Card`, `Badge`, `DataTable`, `Drawer`, `Tabs` 컴포넌트를 적극 재활용할 것.
- 정책 테이블이 가로로 매우 길기 때문에 `DataTable`에 수평 스크롤이 적용되도록 `overflow-x-auto`를 설정해줘.
- 수정 사항 저장 시 "정책 버전 {version}이 저장되었습니다." 알럿을 표시할 것.

1. 정책 데이터 필드:
- '가산점(bonusPoints)' : 초기값은 0 또는 null.
2. 점수 매칭 규칙
- 점수 매핑 로직(Lookup Table):
  * 세차 유형: {"협의": 8, "특수": 7, "내외부": 5, "내부": 4, "외부": 3, "물세차": 2, "라이트": 1}
  * 오더 구분: {"변경": 9, "수시": 8, "긴급": 7, "정규": 5, "특별": 3}
  * 존유형: {"일반존": 8, "주기세차존": 6, "현장세차 불가존": 4}
  * 오더유형 점수: (기존 제공된 테이블의 중요도 점수를 기반으로 매핑, 예: "위생장애": 2, "초장기 미세차": 4 등)

2. '오더 중요도' UI 박스 구현:
- Drawer 내부에 '오더 중요도'라는 타이틀의 Card 섹션을 새로 만들어줘.
- 포함될 항목 (모두 수기 입력 불가능, Read-only):
  * 각 필드별 산출 점수 (세차유형 점수, 오더구분 점수, 오더유형 점수, 존유형 점수)
  * 오더 중요도 총점
  * 오더 중요도 순위
- 입력 가능 항목:
  * 가산점: 숫자 입력 가능 (null 허용)
  * 오더 유형 명칭: 텍스트 입력 가능 (null 불가, 중복 불가/Unique 체크 로직 포함)

3. 자동 계산 로직 (Formula):
- 중요도 총점은 다음 공식에 따라 실시간으로 계산되어야 함:
  총점 = (세차유형점수 * 10000) + (오더구분점수 * 1000) + (오더유형점수 * 100) + (가산점 * 10) + 존유형점수
- 중요도 순위는 전체 정책 리스트 중 '총점'이 높은 순서대로 1위부터 자동 계산하여 표시해줘.

4. 유효성 검사 및 저장:
- '오더 유형' 명칭 수정 시 기존 정책 리스트에 동일한 이름이 있는지 체크하여 경고를 띄워줘.
- 필드 값(세차유형, 오더구분 등)을 변경할 때마다 '총점'과 '점수 현황'이 즉시 업데이트되어 UI에 반영되도록 해줘.

5. 스타일 가이드:
- 중요도 박스는 배경색을 연한 파란색(#F0F7FF) 또는 회색으로 설정하여 다른 정보와 시각적으로 구분해줘.
- 기존의 'Field', 'Card' 컴포넌트를 사용하여 디자인 일관성을 유지할 것.